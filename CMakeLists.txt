cmake_minimum_required(VERSION 3.1.3)
project(OpenSimModels)

if(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
    set(CMAKE_INSTALL_PREFIX "${CMAKE_SOURCE_DIR}-install" CACHE PATH
        "The directory in which to install this project." FORCE)
endif()

install(DIRECTORY Geometry/
       DESTINATION Geometry)
# The only difference here between 3.3 and 4.0 is a README.md that says how
# to fix missing polygons.

install(DIRECTORY Models/Arm26/
        DESTINATION Models/Arm26)
install(DIRECTORY Tutorials/Computed_Muscle_Control/
        DESTINATION Models/Arm26)

install(FILES Models/BouncingBlock/bouncing_block.osim
              Models/BouncingBlock/bouncing_block_weak_spring.osim
        DESTINATION Models/BouncingBlock)
install(FILES Models/BouncingBlock/run_forward_bouncingBlock.xml
        DESTINATION Models/BouncingBlock
        RENAME run_forward.xml) # TODO inconsistent filename; which should we use?

install(FILES Models/Gait10dof18musc/gait10dof18musc.osim
              Models/Gait10dof18musc/subject01.osim
        DESTINATION Models/Gait10dof18musc)
# TODO subject01_metabolics* files?
install(DIRECTORY Pipelines/Gait10dof18musc/
        DESTINATION Models/Gait10dof18musc
        PATTERN "CMC/ResultsCMC_*" EXCLUDE
        PATTERN "CMC/controls_43p_r.xml" EXCLUDE
        PATTERN "CMC/*.osim" EXCLUDE)

install(FILES Models/Gait2354/gait2354.osim
        DESTINATION Models/Gait2354)
install(DIRECTORY Pipelines/Gait2354/
        DESTINATION Models/Gait2354
        PATTERN "forces_grf.xml" EXCLUDE
        PATTERN "subject01_Setup_Analyze_Reactions.xml" EXCLUDE
        PATTERN "subject01_Setup_AnalyzeTest.xml" EXCLUDE
        PATTERN "Pipelines/Gait2354/subject01_walk1_ik.mot" EXCLUDE)

install(FILES Models/Gait2392/gait2392_thelen2003muscle.osim
        DESTINATION Models/Gait2392
        RENAME gait2392.osim)
install(FILES
        Pipelines/Gait2392/gait2392_CMC_Actuators.xml
        Pipelines/Gait2392/gait2392_CMC_ControlConstraints.xml
        Pipelines/Gait2392/gait2392_CMC_Tasks.xml
        Pipelines/Gait2392/gait2392_RRA_Actuators.xml
        Pipelines/Gait2392/gait2392_RRA_ControlConstraints.xml
        Pipelines/Gait2392/gait2392_RRA_Tasks.xml
        Pipelines/Gait2392/gait2392_Scale_MarkerSet.xml
        Pipelines/Gait2392/subject01_Setup_Analyze.xml
        Pipelines/Gait2392/subject01_Setup_CMC.xml
        Pipelines/Gait2392/subject01_Setup_Forward.xml
        Pipelines/Gait2392/subject01_Setup_IK.xml
        Pipelines/Gait2392/subject01_Setup_RRA.xml
        Pipelines/Gait2392/subject01_Setup_Scale.xml
        Pipelines/Gait2392/subject01_static.trc
        Pipelines/Gait2392/subject01_walk1.trc
        Pipelines/Gait2392/subject01_walk1_grf.mot
        Pipelines/Gait2392/subject01_walk1_grf.xml
        DESTINATION Models/Gait2392)
    # TODO should we copy over the OutputReference folder?
install(DIRECTORY Tutorials/Intro_to_Musculoskeletal_Modeling/
        DESTINATION Models/Gait2392/Tutorial1)

install(FILES Models/Leg6Dof9Musc/leg6dof9musc.osim
        DESTINATION Models/Leg6Dof9Musc)
install(DIRECTORY Tutorials/Strength_of_Simulation/
        DESTINATION Models/Leg6Dof9Musc)

install(DIRECTORY Models/ToyLanding/
        DESTINATION Models/ToyDropLanding)
install(DIRECTORY Tutorials/Prevention_of_Ankle_Injury/
        DESTINATION Models/ToyDropLanding)

install(DIRECTORY Models/Tug_of_War/
        DESTINATION Models/Tug_of_War)
install(DIRECTORY Tutorials/Pulling_Out_the_Stops_Tug_of_War/
        DESTINATION Models/Tug_of_War
        PATTERN "addPrescribedMotion.py" EXCLUDE # TODO leave in or not?
        )

install(FILES Models/WristModel/wrist.osim
        DESTINATION Models/WristModel)
